diff --git a/lib/requests/WriteBundleRequest.js b/lib/requests/WriteBundleRequest.js
--- a/lib/requests/WriteBundleRequest.js
+++ b/lib/requests/WriteBundleRequest.js
@@ -240,8 +240,9 @@ function replaceStream(hashRefToNameHash) {
           lastMatchI = matchI + HASH_REF_PREFIX_LEN + _constants.HASH_REF_HASH_LEN;
         }
       }
-      boundaryStr = replaced.subarray(replacedLength - BOUNDARY_LENGTH, replacedLength);
-      let strUpToBoundary = replaced.subarray(0, replacedLength - BOUNDARY_LENGTH);
+      // Copy buffers to avoid reuse issues
+      boundaryStr = Buffer.from(replaced.subarray(replacedLength - BOUNDARY_LENGTH, replacedLength));
+      let strUpToBoundary = Buffer.from(replaced.subarray(0, replacedLength - BOUNDARY_LENGTH));
       cb(null, strUpToBoundary);
     },
     flush(cb) {
