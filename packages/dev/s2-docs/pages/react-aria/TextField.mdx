import {Layout} from '../../src/Layout';
export default Layout;

import docs from 'docs:react-aria-components';
import vanillaDocs from 'docs:vanilla-starter/TextField';
import {TextField as VanillaTextField} from 'vanilla-starter/TextField';
import {TextField as TailwindTextField} from 'tailwind-starter/TextField';
import '../../tailwind/tailwind.css';
import Anatomy from '@react-aria/textfield/docs/anatomy.svg';

export const tags = ['input', 'otp'];
export const relatedPages = [{'title': 'useTextField', 'url': 'TextField/useTextField.html'}];
export const description = 'Allows a user to enter a plain text value with a keyboard.';

# TextField

<PageDescription>{docs.exports.TextField.description}</PageDescription>

<ExampleSwitcher>
  <VisualExample
    component={VanillaTextField}
    docs={vanillaDocs.exports.TextField}
    links={vanillaDocs.links}
    props={['label', 'description', 'isReadOnly', 'isDisabled']}
    initialProps={{label: 'Name', placeholder: 'Enter your full name'}}
    type="vanilla"
    files={["starters/docs/src/TextField.tsx", "starters/docs/src/TextField.css"]} />
  <VisualExample
    component={TailwindTextField}
    docs={vanillaDocs.exports.TextField}
    links={vanillaDocs.links}
    props={['label', 'description', 'isReadOnly', 'isDisabled']}
    initialProps={{label: 'Name', placeholder: 'Enter your full name'}}
    type="tailwind"
    files={["starters/tailwind/src/TextField.tsx"]} />
</ExampleSwitcher>

## Value

Use the `value` or `defaultValue` prop to set the text value, and `onChange` to handle user input.

```tsx render
"use client";
import {TextField} from 'vanilla-starter/TextField';
import {useState} from 'react';

function Example() {
  let [name, setName] = useState('');

  return (
    <>
      <TextField
        label="Name"
        placeholder="Enter your full name"
        ///- begin highlight -///
        value={name}
        onChange={setName} />
      {/*- end highlight -*/}
      <p>Your name: {name}</p>
    </>
  );
}
```

## Forms

Use the `name` prop to submit the text value to the server. Set the `isRequired`, `minLength`, `maxLength`, `pattern`, or `type` props to validate the value, or implement custom client or server-side validation. See the [Forms](forms) guide to learn more.

```tsx render docs={docs.exports.TextField} links={docs.links} props={['isRequired', 'type', 'pattern', 'minLength', 'maxLength']} initialProps={{isRequired: true, type: 'email'}}
"use client";
import {TextField} from 'vanilla-starter/TextField';
import {Button} from 'vanilla-starter/Button';
import {Form} from 'vanilla-starter/Form';;

function Example(props) {
  return (
    <Form>
      <TextField
        {...props}
        label="Email"
        placeholder="Enter your email"
        ///- begin highlight -///
        name="email"
        /* PROPS */
        ///- end highlight -///
      />
      <Button type="submit">Submit</Button>
    </Form>
  );
}
```

## TextArea

Use `<TextArea>` instead of `<Input>` to enable multi-line input.

```tsx render
"use client";
import {TextField, Label, TextArea} from 'react-aria-components';

<TextField>
  <Label>Comment</Label>
  <TextArea
    className="react-aria-TextArea inset"
    placeholder="Enter a comment" />
</TextField>
```

## OTP Input

TextField can be customized to create an OTP (one-time password) input by hiding the actual input and rendering styled character boxes instead. This uses `InputContext` to access the current value and render each character in a separate box.

<ExampleSwitcher>
  ```tsx render type="vanilla"
  "use client";
  import {TextField, Input, InputContext} from 'react-aria-components';
  import {useState, useContext} from 'react';

  function OTPInput(props) {
    let [focused, setFocused] = useState(false);
    let length = props.length ?? 6;

    return (
      <TextField
        aria-label={props['aria-label'] ?? 'One-time password'}
        maxLength={length}
        style={{
          position: 'relative',
          display: 'inline-flex',
          alignItems: 'center',
          gap: '8px'
        }}>
        <OTPBoxes length={length} focused={focused} />
        <Input
          onFocus={() => setFocused(true)}
          onBlur={() => setFocused(false)}
          inputMode="numeric"
          pattern="[0-9]*"
          autoComplete="one-time-code"
          style={{
            position: 'absolute',
            inset: 0,
            width: '100%',
            height: '100%',
            opacity: 0,
            pointerEvents: 'auto',
            cursor: 'text',
            caretColor: 'transparent'
          }}
        />
      </TextField>
    );
  }

  function OTPBoxes({length, focused}) {
    let context = useContext(InputContext);
    let value = String(context?.value ?? '');

    return (
      <div style={{display: 'flex', gap: '6px', pointerEvents: 'none'}}>
        {Array.from({length}, (_, i) => (
          <div
            key={i}
            style={{
              width: '40px',
              height: '48px',
              display: 'flex',
              alignItems: 'center',
              justifyContent: 'center',
              fontSize: '1.25rem',
              fontWeight: 500,
              fontVariantNumeric: 'tabular-nums',
              borderRadius: 'var(--radius)',
              background: 'var(--field-background)',
              border: '1px solid var(--border-color)',
              boxShadow: focused && value.length === i
                ? '0 0 0 2px var(--focus-ring-color)'
                : 'none',
              color: 'var(--field-text-color)',
              transition: 'box-shadow 150ms'
            }}>
            {value[i] ?? ''}
          </div>
        ))}
      </div>
    );
  }

  <OTPInput aria-label="Verification code" />
  ```

  ```tsx render type="tailwind"
  "use client";
  import {TextField, Input, InputContext} from 'react-aria-components';
  import {useState, useContext} from 'react';

  function OTPInput(props) {
    let [focused, setFocused] = useState(false);
    let length = props.length ?? 6;

    return (
      <TextField
        aria-label={props['aria-label'] ?? 'One-time password'}
        maxLength={length}
        className="relative inline-flex items-center gap-2">
        <OTPBoxes length={length} focused={focused} />
        <Input
          onFocus={() => setFocused(true)}
          onBlur={() => setFocused(false)}
          inputMode="numeric"
          pattern="[0-9]*"
          autoComplete="one-time-code"
          className="absolute inset-0 w-full h-full opacity-0 cursor-text caret-transparent"
        />
      </TextField>
    );
  }

  function OTPBoxes({length, focused}) {
    let context = useContext(InputContext);
    let value = String(context?.value ?? '');

    return (
      <div className="flex gap-1.5 pointer-events-none">
        {Array.from({length}, (_, i) => (
          <div
            key={i}
            className={`
              w-10 h-12 flex items-center justify-center
              text-xl font-medium tabular-nums
              rounded-lg bg-white dark:bg-zinc-900
              border border-gray-300 dark:border-zinc-600
              text-gray-900 dark:text-zinc-100
              transition-shadow duration-150
              ${focused && value.length === i
                ? 'ring-2 ring-blue-600 dark:ring-blue-500'
                : ''}
            `}>
            {value[i] ?? ''}
          </div>
        ))}
      </div>
    );
  }

  <OTPInput aria-label="Verification code" />
  ```

</ExampleSwitcher>

## API

<Anatomy />

```tsx links={{TextField: '#textfield'}}
<TextField>
  <Label />
  <Input /> or <TextArea />
  <Text slot="description" />
  <FieldError />
</TextField>
```

### TextField

<PropTable component={docs.exports.TextField} links={docs.links} />
