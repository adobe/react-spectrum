import {Layout} from '../../src/Layout';
import {InlineAlert, Heading, Content, Link} from '@react-spectrum/s2';
import {StyleMacroProperties} from '../../src/StyleMacroProperties';
import {getPropertyDefinitions} from '../../src/styleProperties';
export default Layout;

export const section = 'Reference';
export const tags = ['style', 'macro', 'spectrum', 'custom', 'values', 'reference'];
export const description = 'Reference table for the style macro';

# Style Macro

The `style` macro supports a constrained set of values per property that conform to Spectrum 2.

## Colors

All Spectrum 2 color tokens are available across color properties (e.g., `backgroundColor`, `color`, `borderColor`).

<StyleMacroProperties properties={getPropertyDefinitions('color')} />

## Dimensions

<StyleMacroProperties properties={getPropertyDefinitions('dimensions')} />

## Text

Spectrum 2 typography can be applied via the `font` shorthand, which sets `fontFamily`, `fontSize`, `fontWeight`, `lineHeight`, and `color`. You can override any of these individually.
Note that `font` should be applied on a per element basis rather than globally so as to properly conform with Spectrum designs.

```tsx
<main>
  <h1 className={style({font: 'heading-xl'})}>Heading</h1>
  <p className={style({font: 'body'})}>Body</p>
  <ul className={style({font: 'body-sm', fontWeight: 'bold'})}>
    <li>List item</li>
  </ul>
</main>
```

<StyleMacroProperties properties={getPropertyDefinitions('text')} />


## Effects

<StyleMacroProperties properties={getPropertyDefinitions('effects')} />

## Layout

<StyleMacroProperties properties={getPropertyDefinitions('layout')} />

## Misc

<StyleMacroProperties properties={getPropertyDefinitions('misc')} />

## Conditions

<StyleMacroProperties properties={getPropertyDefinitions('conditions')} sort={false} />

## Utilities

The style macro system provides built-in utility functions for common patterns.

### baseColor

Returns a set of stateful color token references for the default, hovered, focus-visible, and pressed states of a component.

```tsx
const styles = style({
  backgroundColor: baseColor('gray-100')
});
```

### color

Resolves a Spectrum color token name to a CSS color value string. Supports opacity modifiers via the `color/opacity` syntax.

```tsx
const styles = style({
  color: color('gray-800'),
  borderColor: color('accent-900/50')
});
```

### lightDark

Produces a `light-dark()` CSS color value that resolves to different colors depending on the current color scheme.

```tsx
const styles = style({
  backgroundColor: lightDark('gray-25', 'gray-900')
});
```

### colorMix

Mixes two Spectrum colors by a given percentage using CSS `color-mix()` in sRGB color space.

```tsx
const styles = style({
  backgroundColor: colorMix('accent-900', 'gray-25', 50)
});
```

### size

Converts a pixel value to a scalable CSS size expression using the current Spectrum scale factor.

```tsx
const styles = style({
  width: size(200),
  height: size(48)
});
```

### space

Converts a pixel value to a Spectrum spacing token in `rem` units.

```tsx
const styles = style({
  gap: space(12)
});
```

### fontRelative

Converts a pixel value to a font-relative `em` length. Useful for sizing elements relative to the current font size.

```tsx
const styles = style({
  gap: fontRelative(2) // 2/14 â‰ˆ 0.143em
});
```

### focusRing

Returns consistent Spectrum focus ring outline styles for interactive components. Requires `isFocusVisible` to be passed as a condition.

```tsx
const styles = style({
  ...focusRing(),
  borderRadius: 'lg'
});
```

### iconStyle

Generates styles for an icon element with the given size, color, and layout options. See the [Icons](icons#api) page for more information.

```tsx
<MyIcon className={iconStyle({size: 'L', color: 'accent'})} />
```

### raw

Injects a raw CSS string into the style system. The CSS is wrapped in a generated class name and placed within a CSS `@layer`. Returns the generated class name.

```tsx
const blurClass = raw(`
  backdrop-filter: blur(8px);
`);
```

### keyframes

Defines a CSS `@keyframes` animation and returns the generated animation name.

```tsx
const fadeIn = keyframes(`
  from { opacity: 0; }
  to { opacity: 1; }
`);

const styles = style({
  animation: fadeIn
});
```

### mergeStyles

Merges multiple style strings together at runtime, combining the CSS properties from each. Later styles take precedence over earlier ones for the same property.

```tsx
import {mergeStyles} from '@react-spectrum/s2';
import {style} from '@react-spectrum/s2/style' with {type: 'macro'};

const baseStyles = style({padding: 8});
const overrideStyles = style({padding: 16, color: 'heading'});
const merged = mergeStyles(baseStyles, overrideStyles);
```

### getAllowedOverrides

Returns the list of CSS property names that are allowed as style overrides via the `styles` prop. By default includes layout properties (margin, position, grid, etc.) and width properties. Optionally includes height properties.

```tsx
const styles = style({
  // ...component styles
}, getAllowedOverrides());

// With height overrides enabled:
const styles = style({
  // ...component styles
}, getAllowedOverrides({height: true}));
```

### centerPadding

Calculates vertical padding to center a single line of text within a container using the CSS `self()` function and `1lh` unit.

```tsx
const styles = style({
  paddingY: centerPadding()
});
```

### setColorScheme

Returns style properties that set the CSS `color-scheme` for a component. Defaults to the page's color scheme and supports `'light'`, `'dark'`, and `'light dark'` values via the `colorScheme` render prop condition.

```tsx
const styles = style({
  ...setColorScheme(),
  backgroundColor: 'layer-1'
});
```
